from flask import Flask, request, jsonify
import requests

app = Flask(__name__)

@app.route('/api/linkvertise', methods=['GET'])
def linkvertise():
    url = request.args.get('url')
    
    if not url:
        return jsonify({"error": "No URL provided", "discord_server": "https://discord.gg/pTmc8uEqJr"}), 400
    
    try:
        response = requests.get(f'https://usescarletios.vercel.app/api/linkvertise?url={url}')
        response_data = response.json()
        return jsonify({"data": response_data, "provided_url": url}), 200
    except requests.RequestException:
        return jsonify({"error": "Unable to reach external API", "discord_server": "https://discord.gg/pTmc8uEqJr"}), 500

if __name__ == '__main__':
    app.run(port=port_here)
